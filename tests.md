# üìã –¢–µ—Å—Ç-–ø–ª–∞–Ω –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –º–µ–∂–≥–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è                  | –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º                                                  | –¢–∏–ø —Ç–µ—Å—Ç–∞            | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                                                        |
| -------------------------- | -------------------------------------------------------------- | -------------------- | -------------------------------------------------------------------------------------------------- |
| **API**                    | `api/analytics.ts` ‚Äî –≤—ã–∑–æ–≤ fetch —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏     | Unit                 | –ú–æ–∫–∏—Ä—É–µ–º `fetch`, –ø—Ä–æ–≤–µ—Ä—è–µ–º URL, –º–µ—Ç–æ–¥ –∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞.                                             |
|                            | `api/generator.ts` ‚Äî –≤—ã–∑–æ–≤ fetch —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏     | Unit                 | –ú–æ–∫–∏—Ä—É–µ–º `fetch`, –ø—Ä–æ–≤–µ—Ä—è–µ–º URL –∏ –º–µ—Ç–æ–¥.                                                           |
|                            | `api/history.ts` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å `localStorage`                     | Unit                 | –ú–æ–∫–∏—Ä—É–µ–º `localStorage`, –ø—Ä–æ–≤–µ—Ä—è–µ–º CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ).                     |
| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**             | `Button` ‚Äî —Ä–µ–Ω–¥–µ—Ä, –∫–æ–ª–±—ç–∫–∏, —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isLoading`              | Unit                 | –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–∑–æ–≤ `onClick`, –ø—Ä–æ–ø—Å—ã `disabled` –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `AnimatedLoader` –ø—Ä–∏ `isLoading: true`. |
|                            | `DropZone` ‚Äî —Å–æ–±—ã—Ç–∏—è drag&drop, —Å–æ—Å—Ç–æ—è–Ω–∏—è                      | Unit                 | –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—ã–∑–æ–≤ `onDrop` –∏ `onClick`, –∞ —Ç–∞–∫–∂–µ —Å–º–µ–Ω—É —Å—Ç–∏–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–ø—Å–∞ `state`.        |
|                            | `HighlightsGrid` ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (`metrics`)                | Unit                 | –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç `MetricsRow` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö `metrics`.         |
|                            | `TopBar` –∏ `Menu` ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è                                  | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π       | –í `MemoryRouter` –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–ª–∏–∫–∏ –ø–æ —Å—Å—ã–ª–∫–∞–º –º–µ–Ω—è—é—Ç URL.                                       |
|                            | `ReportsGroup` –∏ `ReportRow` ‚Äî —Ä–µ–Ω–¥–µ—Ä –∏ —Å–æ–±—ã—Ç–∏—è                | Unit                 | –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞, –≤—ã–∑–æ–≤ `onClick` –∏ `onDelete` –Ω–∞ `ReportRow`.                              |
| **–°—Ç—Ä–∞–Ω–∏—Ü—ã**               | `Analytics` ‚Äî –ø–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞               | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π, E2E  | –û—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –¥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ö–∞–π–ª–∞–π—Ç–æ–≤ (`HighlightsGrid`) –∏–ª–∏ –æ—à–∏–±–∫–∏.                          |
|                            | `Generator` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞                     | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π, E2E  | –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ, –≤—ã–∑–æ–≤ `generator.generateFile`, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π `isLoading`/`error`.           |
|                            | `History` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞    | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π, E2E  | –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∏–∑ `localStorage`, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å `HighlightsGrid`.          |
| **Store (Zustand)**        | `slices/analytics.ts` ‚Äî –ª–æ–≥–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è             | Unit                 | –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π `action` –∏ –µ–≥–æ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ `state` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `uploadFile` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `file`).  |
|                            | `slices/generator.ts` ‚Äî –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏                       | Unit                 | –¢–µ—Å—Ç–∏—Ä—É–µ–º `generateFile` –∏ —Å–º–µ–Ω—É —Å–æ—Å—Ç–æ—è–Ω–∏–π `isLoading`, `isSuccess`, `error`.                      |
|                            | `slices/history.ts` ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å `HistoryApi`            | Unit                 | –ú–æ–∫–∏—Ä—É–µ–º `HistoryApi`, –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ `action`'—ã –≤—ã–∑—ã–≤–∞—é—Ç –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã API –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç `state`.   |
| **Services**               | `services/analytics.ts` ‚Äî —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö     | Unit                 | –¢–µ—Å—Ç–∏—Ä—É–µ–º `transformMetricsResponse`, `validateFile`, `beautifyDayOfYear` –∏ –ø–∞—Ä—Å–∏–Ω–≥ —á–∞–Ω–∫–æ–≤.        |
|                            | `services/generator.ts` ‚Äî –≤—ã–∑–æ–≤ `GeneratorApi`                 | Unit                 | –ú–æ–∫–∏—Ä—É–µ–º `GeneratorApi`, –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ –º–µ—Ç–æ–¥—ã.                                |
| **Shared**                 | `truncate.ts` ‚Äî –æ–±—Ä–µ–∑–∫–∞ —Å—Ç—Ä–æ–∫                                  | Unit                 | –¢–µ—Å—Ç–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–µ –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (—Å—Ç—Ä–æ–∫–∞ –∫–æ—Ä–æ—á–µ –ª–∏–º–∏—Ç–∞, –¥–ª–∏–Ω–Ω–µ–µ, –ø—É—Å—Ç–∞—è).                      |
| **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ (E2E)** | Happy path: –∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Üí –∏—Å—Ç–æ—Ä–∏—è ‚Üí –º–æ–¥–∞–ª–∫–∞ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ | E2E                  | –ü–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π.                                                                  |
|                            | –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ‚Üí –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ ‚Üí —É—Å–ø–µ—Ö                    | E2E                  | –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ.                          |
|                            | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞ ‚Üí –∞–≤—Ç–æ—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ                               | E2E                  | –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞.                               |
| **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**       | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–∞–π–ª (`.txt` –≤–º–µ—Å—Ç–æ `.csv`)                         | Unit, –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π | `AnalyticsService.validateFile` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `false`, –≤ UI –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞.                   |
|                            | –ü—É—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è / –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞                          | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π       | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å "–ø—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è" –±–µ–∑ –æ—à–∏–±–æ–∫.                                         |
|                            | –û—à–∏–±–∫–∞ `localStorage` (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞)                            | Unit, –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–∞–¥–∞–µ—Ç, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `HistoryApi`).                    |
